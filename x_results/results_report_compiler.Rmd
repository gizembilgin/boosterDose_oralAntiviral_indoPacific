---
title: "Vaccine allocation project results"
author: "GMB"
date: "`r Sys.Date()`"
output: 
  html_document:
    toc: true
    number_sections: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
options(scipen=10000); require(ggpubr)

load(paste("x_results/complete_model_run_",Sys.Date(),".Rdata",sep=''))
```


# Introduction
This document brings together results from multiple model runs. It is intended to be re-run as the model is updated.
NOTE: The setting for this run is: `r paste(setting)`

## Target questions
* What impact will the existing vaccination plan have on morbidity and mortality?
* What impact can be achieved under different levels of vaccine coverage?
* What are the potential benefits of expanding the immunisation schedule to include children?

## Overarching assumptions
Unless otherwise specified, key model assumptions in this run are:  

Variable | Value
---------|--------
Circulating strain | `r paste(strain_inital)`
Length of model run | `r paste(model_weeks)`
Proportion of population willing to be vaccinated | `r paste(vax_strategy_toggles$vax_strategy_max_expected_cov)`
Daily capacity for vaccination (doses) | `r paste(vax_strategy_toggles$vax_strategy_roll_out_speed)`
Vaccine type used| `r paste(vax_strategy_toggles$vax_strategy_vaccine_type)`

## Next steps for noting
* update of infection- and vaccine-derived immunity
* sensitivity analysis 
    + turning on/off waning of vaccine-derived immunity
    + simulating outbreaks of different strains
    + experimenting with different age-prioritisation strategies
    + other?


***
  
# Impact of current program targets
Roll out of current program target (51.6% coverage) during or prior to an outbreak:
```{r echo=FALSE}
library(knitr)
results_warehouse[[1]][[3]]
kable(results_warehouse[[3]][[4]]$absolute, caption = 'Absolute difference in outcomes')
kable(results_warehouse[[3]][[4]]$relative, caption = 'Relative difference in outcomes')
```

***

# Varying levels of coverage
## Using current age-specific eligiblity
```{r echo=FALSE}
library(knitr)
results_warehouse[[2]][[3]][[1]]
kable(results_warehouse[[2]][[4]][[1]]$absolute, caption = 'Absolute difference in outcomes')
kable(results_warehouse[[2]][[4]][[1]]$relative, caption = 'Relative difference in outcomes')
```
## Expanding eligibility to children
### Run current vaccine campaign, then expand to children
```{r echo=FALSE}
library(knitr)
results_warehouse[[2]][[3]][[2]]
kable(results_warehouse[[2]][[4]][[2]]$absolute, caption = 'Absolute difference in outcomes')
kable(results_warehouse[[2]][[4]][[2]]$relative, caption = 'Relative difference in outcomes')
```
### Expand to children now
```{r echo=FALSE}
library(knitr)
results_warehouse[[2]][[3]][[3]]
kable(results_warehouse[[2]][[4]][[3]]$absolute, caption = 'Absolute difference in outcomes')
kable(results_warehouse[[2]][[4]][[3]]$relative, caption = 'Relative difference in outcomes')
```
***

# Varying speed of vaccine roll-out
This section models varying speeds of vaccine roll-out *DURING* an outbreak.
```{r echo=FALSE}
library(knitr)
results_warehouse[[3]][[3]]
kable(results_warehouse[[3]][[4]]$absolute, caption = 'Absolute difference in outcomes')
kable(results_warehouse[[3]][[4]]$relative, caption = 'Relative difference in outcomes')
```


***

# Sensitivity analysis (TBC)

***
